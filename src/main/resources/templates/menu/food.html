<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<title>JavaBean - 푸드</title>
<link rel="stylesheet" href="/css/menu.css">

<th:block th:replace="~{./include/userBaseLayout :: setContent(~{:: .wrap})}">

    <div class="wrap">

        <!-- 카테고리 탭 -->
        <nav class="category-tab-bar">
            <a th:href="@{/menu/newMenu(region=${region})}">신메뉴</a>
            <a th:href="@{/menu/coffee(region=${region})}">커피</a>
            <a th:href="@{/menu/beverage(region=${region})}">음료</a>
            <a th:href="@{/menu/tea(region=${region})}">티/에이드</a>
            <a th:href="@{/menu/food(region=${region})}" class="active-category">푸드</a>
        </nav>

        <!-- 메뉴 리스트 -->
        <main class="main-content">
            <div class="menu-list-container">

                <a th:each="item : ${menuItems}"
                   th:href="@{/home/order_detail(id=${item.menuId})}"
                   class="menu-link"
                   th:classappend="${item.salesStatus != '판매중'} ? ' sold-out-item'">

                    <div class="menu-item" th:data-menu-id="${item.menuId}">

                        <!-- 메뉴 이미지 -->
                        <img th:src="@{'/upload/menuImg/' + ${item.menuImg}}"
                             th:alt="${item.menuName}"
                             class="menu-image">

                        <!-- 메뉴 정보 -->
                        <div class="menu-details">

                            <div class="menu-name" th:text="${item.menuName}"></div>

                            <!-- 가격 영역: 판매 상태에 따라 변경 -->
                            <div class="menu-price"
                                 th:text="${item.salesStatus == '판매중'}
                                          ? ${#numbers.formatInteger(item.menuPrice, 0)} + '원'
                                          : 'SOLD OUT'"
                                 th:classappend="${item.salesStatus != '판매중'} ? ' sold-out-text'">
                            </div>
                        </div>

                        <!-- 찜 버튼 (데이터 속성 추가됨) -->
                        <span class="like-button"
                              th:data-menu-id="${item.menuId}"
                              onclick="toggleLike(this, event)">♡</span>

                    </div>
                </a>

            </div>
        </main>

    </div>

</th:block>
<script src="/js/menu.js"></script>
</html>
