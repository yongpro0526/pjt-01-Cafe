<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>JavaBean - 지난 주문 내역</title>
    <link rel="stylesheet" href="/css/order_history.css">
    <link rel="stylesheet" href="/css/main.css">
</head>

<th:block th:replace="~{./include/userBaseLayout :: setContent( ~{:: .wrap} ) }">
    <div class="wrap">
        <main class="container">

            <h2 class="order-history-header">지난 주문 내역</h2>

            <span style="display:flex; justify-content:center; width:100%; margin:10px 0;">
                최근 10개의 주문목록만 조회됩니다.
            </span>
            <div class="order-list-container">

                <!-- 주문내역이 없을 때 -->
                <th:block th:if="${#lists.isEmpty(allOrders)}">
                    <p style="font-size:14px; color:#666;">주문 내역이 없습니다.</p>
                </th:block>

                <!-- 주문 반복 -->
                <th:block th:each="item : ${allOrders}">
                    <div class="order-item">

                        <div class="order-item-image">
                            <img th:src="@{'/upload/menuImg/' + ${item.menuImg}}"
                                 th:alt="${item.menuName}"
                                 class="menu-image">
                        </div>

                        <div class="order-item-details">
                            <span class="detail-label">지점</span>
                            <span class="detail-value" th:text="${item.storeName}"></span>

                            <span class="detail-label">메뉴명</span>
                            <span class="detail-value" th:text="${item.menuName}"></span>

                            <span class="detail-label">종류</span>
                            <span class="detail-value" th:text="${item.temp}"></span>

                            <span class="detail-label">가격</span>
                            <span class="detail-value"
                                  th:text="${#numbers.formatInteger(item.totalPrice, 0) + '원'}"></span>

                            <span class="detail-label">수량</span>
                            <span class="detail-value" th:text="${item.quantity + '개'}"></span>

                            <span class="detail-label">주문일시</span>
                            <span class="detail-value" th:text="${#dates.format(item.orderTime, 'yyyy-MM-dd HH:mm')}"></span>
                        </div>

                        <div class="divider-line"></div>
                    </div>
                </th:block>

            </div>
        </main>
    </div>

    <script src="/js/main.js"></script>
</th:block>

</html>
